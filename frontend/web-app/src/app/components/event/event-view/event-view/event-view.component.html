<button class="btn btn-primary" style="width: 50px" routerLink="/events">
    <i class="fa-solid fa-backward" style="color: black"></i>
</button>

<div class="container">

    <div class="container-form">
        <div class="place-box-title">
            <h2>EVENTO</h2>
            <div class="health-favorite">
                <button *ngIf="!isAdmin && isLoggedIn && !event.isFavorite" (click)="isFavourite()" mat-icon-button color="" aria-label="Example icon button with a heart icon">
                    <mat-icon>favorite</mat-icon>
                </button>
                <button *ngIf="isLoggedIn && event.isFavorite" (click)="removeFavourite()" mat-icon-button color="warn" aria-label="Example icon button with a heart icon">
                    <mat-icon>favorite</mat-icon>
                </button>
            </div>
        </div>
        <div *ngIf="event != undefined" class="container-form-2">
            <div  class="place-box">
                <mat-form-field class="mat-field-full-width">
                    <mat-label>URL</mat-label>
                    <input *ngIf="event != undefined" [(ngModel)]="event.url" matInput readonly>
                    <input *ngIf="event == undefined" [(ngModel)]="VALUE_NULL" matInput readonly>
                </mat-form-field>
            </div>
            <div class="place-box">
                <mat-form-field class="mat-field-full-width">
                    <mat-label>LINK</mat-label>
                    <input [(ngModel)]="event.link" matInput readonly>
                </mat-form-field>
            </div>
            <div class="place-box">
                <mat-form-field class="mat-field-full-width">
                        <mat-label>Estado</mat-label>
                        <input [(ngModel)]="event.state"  matInput readonly>
                </mat-form-field>
            </div>
            <div class="place-box">
                <mat-form-field class="mat-field-full-width">
                    <mat-label>Tipo de Evento</mat-label>
                    <input [(ngModel)]="event.eventTypeDescription" matInput readonly>
                </mat-form-field>
            </div>
        </div>
        <div *ngIf="event != undefined" class="container-form-2">
            <div class="place-box">
                <mat-form-field class="mat-field-full-width">
                    <mat-label>Fecha Inicio</mat-label>
                    <input [(ngModel)]="event.fromDate" matInput readonly>
                </mat-form-field>
            </div>
            <div class="place-box">
                <mat-form-field class="mat-field-full-width">
                    <mat-label>Fecha fin</mat-label>
                    <input  [(ngModel)]="event.toDate" matInput readonly>
                </mat-form-field>
            </div>
        </div>
        <div *ngIf="event != undefined" class="container-form-2">
            <div class="place-box">
                <h2>{{event.title}}</h2>
            </div>
        </div>
        <div *ngIf="event != undefined" class="container-form-2">
            <div class="place-box">
                <h2>{{event.subTitle}}</h2>
            </div>
        </div>
        <div *ngIf="event != undefined" class="container-form-2">
            <div class="place-box">
                <div [innerHTML]="event.body | sanitizeHtml"></div>
            </div>
        </div>
        <div *ngIf="event != undefined" class="container-form-2">
            <div>
                <img style="width: 1100px;" src="{{event.image}}" alt="">
            </div>
        </div>
    </div>
    <div class="container-form-review">
        <h2>CALIFICACIÃ“N</h2>
        <div>
            <bar-rating class="star-total-font" [readOnly]="true" [theme]="'stars'" [rate]="totalRate" [max]="5">
                <fa-icon *ratingInactive [icon]="['far', 'star']" [fixedWidth]="true" size="lg" style="color: #38b6ff"></fa-icon>
                <fa-icon *ratingActive [icon]="['fas', 'star']" [fixedWidth]="true" size="lg" style="color: #38b6ff"></fa-icon>
                <fa-icon *ratingFraction [icon]="['fas', 'star-half-alt']" [fixedWidth]="true" size="lg" style="color: #38b6ff"></fa-icon>
            </bar-rating>
            <span>total: {{totalRate}} / 5</span>
        </div>
        <div style="margin-top: 8px;">
            <bar-rating class="star-font" [theme]="'stars'" [(rate)]="currentRate" [max]="5">
                <fa-icon *ratingInactive [icon]="['far', 'star']" [fixedWidth]="true" size="lg" style="color: #FFD700"></fa-icon>
                <fa-icon *ratingActive [icon]="['fas', 'star']" [fixedWidth]="true" size="lg" style="color: #FFD700"></fa-icon>
                <fa-icon *ratingFraction [icon]="['fas', 'star-half-alt']" [fixedWidth]="true" size="lg" style="color: #FFD700"></fa-icon>
            </bar-rating>
        </div>
        <div class="place-box-description">
            <mat-form-field style="width: 600px;">
                <mat-label>Dejanos un comentario:</mat-label>
                <textarea [(ngModel)]="comments" style="height: 100px;" matInput></textarea>
            </mat-form-field>
        </div>
        <button mat-raised-button color="primary" (click)="sendReview()">ENVIAR</button>
    </div>  
</div>
